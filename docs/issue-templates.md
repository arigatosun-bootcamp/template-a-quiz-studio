# 研修用 GitHub Issue テンプレート集

研修中に作成する Issue の一覧です。
`gh` CLI がインストールされたら、各Dayの開始時にIssueを作成してください。

> **作成方法:** GitHub Web UIで手動作成するか、`gh issue create` コマンドで作成する

---

## Day 1 の Issue

### Issue: DB設計とSupabase環境構築

```
タイトル: DB設計とSupabase環境構築
ラベル: Day1

--- 本文 ---
## やること
- Supabaseプロジェクトの作成
- 以下のテーブルを作成する:
  - users（ユーザー情報: ID, メールアドレス, 作成日）
  - quizzes（クイズ問題: ID, 問題文, 選択肢3つ, 正解, 解説, ジャンル, 難易度, 都道府県）
  - answers（回答履歴: ID, ユーザーID, クイズID, 選んだ答え, 正解したか, 回答日）
  - quiz_sessions（クイズセッション: ID, ユーザーID, ジャンル, 難易度, 正解数, 実施日）
  - prefecture_progress（都道府県の達成状況: ユーザーID, 都道府県, 最高クリア難易度）
- `.env.local` に接続情報を設定する
- Next.jsプロジェクトの初期セットアップ

## 受け入れ条件
- [ ] Supabaseプロジェクトが作成されている
- [ ] 5つのテーブルが作成されている
- [ ] `.env.local` が設定され、`.gitignore` に含まれている
- [ ] Next.jsアプリが `npm run dev` で起動する

## 参照
- 要件定義書 §2（技術スタック）、§9（データベース設計）
```

### Issue: 認証機能の実装（ログイン/新規登録/PWリセット）

```
タイトル: 認証機能の実装（ログイン/新規登録/PWリセット）
ラベル: Day1

--- 本文 ---
## やること
- ログイン画面の実装
- 新規登録画面の実装
- パスワードリセット画面の実装
- Supabase Authとの連携

## 受け入れ条件
- [ ] ログイン画面: メール入力・PW入力・ログインボタン（朱色）・Googleログインボタン・リンク2つ
- [ ] 新規登録画面: メール・PW・PW確認・利用規約チェック・新規登録ボタン（朱色）
- [ ] パスワードリセット画面: メール入力 → リセットメール送信
- [ ] 新規登録 → ログインの流れが動作する
- [ ] ログアウトするとログイン画面に戻る
- [ ] パスワード8文字以上の制約がある

## 参照
- 要件定義書 §3（ユーザー認証）、§6.2（画面詳細）、§10（セキュリティ）
```

---

## Day 2 の Issue

### Issue: クイズ生成APIの実装

```
タイトル: クイズ生成APIの実装
ラベル: Day2

--- 本文 ---
## やること
- Claude API との連携設定
- クイズ生成用APIルートの作成
- 5問一括生成ロジック
- 未正解都道府県の優先出題ロジック
- JSONバリデーション + リトライ処理

## 受け入れ条件
- [ ] APIに ジャンル・難易度を指定して5問のクイズが生成される
- [ ] 各問題に 問題文・選択肢3つ・正解・解説・都道府県名 が含まれる
- [ ] 5問は全て別の都道府県から出題される
- [ ] エラー時に最大3回リトライする
- [ ] 3回失敗後に「問題の生成に失敗しました」メッセージを返す

## 参照
- 要件定義書 §4.1〜§4.4（クイズ基本仕様・生成ロジック）、§4.7（エラー処理）
```

### Issue: トップ画面の実装

```
タイトル: トップ画面の実装
ラベル: Day2

--- 本文 ---
## やること
- ジャンル選択UI（ステップ1）
- 難易度選択UI（ステップ2）
- ゲームスタートボタン（ステップ3）
- 回答履歴への導線

## 受け入れ条件
- [ ] ジャンル（地理/観光名所/グルメ）を選択できる
- [ ] ジャンル選択後に難易度（初級/中級/上級）が表示される
- [ ] 難易度選択後に「ゲームスタート！」ボタンが表示される
- [ ] ジャンルをタップし直すと選び直せる
- [ ] 画面下部に「回答履歴を見る」ボタンがある

## 参照
- 要件定義書 §6.3（トップ画面の詳細）
```

### Issue: クイズ画面の実装

```
タイトル: クイズ画面の実装
ラベル: Day2

--- 本文 ---
## やること
- クイズ出題画面の構築
- 回答 → 正誤判定 → 解説表示のフロー
- 進捗表示

## 受け入れ条件
- [ ] 「クイズを生成中です...」のローディングが表示される
- [ ] 進捗表示（「問題 X / 5」）がある
- [ ] 選択肢をタップでハイライト → 「回答する」ボタンで確定
- [ ] 正解/不正解 + 解説が即座に表示される
- [ ] 不正解時は正解の選択肢も表示される
- [ ] 「次の問題へ」ボタンで次に進む
- [ ] 5問目は「結果を見る」ボタンに切り替わる

## 参照
- 要件定義書 §4.5（クイズ中の体験）
```

### Issue: 結果画面の実装

```
タイトル: 結果画面の実装
ラベル: Day2

--- 本文 ---
## やること
- 正解数と成績メッセージの表示
- 全問の振り返り一覧
- 再挑戦・トップに戻るボタン
- 広告スペースの確保

## 受け入れ条件
- [ ] 正解数が大きく表示される
- [ ] 正解数に応じたメッセージ（5問→パーフェクト、3-4問→いい調子、1-2問→次は上を、0問→ドンマイ）
- [ ] 全問の正解/不正解が一覧表示される
- [ ] 不正解の問題は解説が再表示される
- [ ] 「同じ条件でもう一度」ボタンがある
- [ ] 「トップに戻る」ボタンがある
- [ ] 広告表示スペースが確保されている

## 参照
- 要件定義書 §6.4（結果画面の詳細）、§8（広告）
```

---

## Day 3 の Issue

### Issue: 日本地図の表示と色分け

```
タイトル: 日本地図の表示と色分け
ラベル: Day3

--- 本文 ---
## やること
- SVG日本地図コンポーネントの作成
- 47都道府県の個別色制御
- 達成状況に応じた色分け

## 受け入れ条件
- [ ] トップ画面にSVGの日本地図が表示される
- [ ] 未回答: グレー / 初級正解: 薄い緑 / 中級正解: 緑 / 上級正解: 深い緑
- [ ] 上の難易度に正解すると色が変化（上書き）
- [ ] 地図をタップすると達成状況画面に遷移する

## 参照
- 要件定義書 §5（日本地図）
```

### Issue: 回答履歴・達成状況画面の実装

```
タイトル: 回答履歴・達成状況画面の実装
ラベル: Day3

--- 本文 ---
## やること
- 回答履歴画面（一覧 + 折りたたみ + ページネーション）
- 達成状況画面（地図 + 制覇率 + 統計情報）

## 受け入れ条件
回答履歴画面:
- [ ] 過去のクイズ結果が新しい順に表示される
- [ ] 日付・ジャンル・難易度・正解数が表示される
- [ ] 折りたたみで展開すると全問題と解説が見れる
- [ ] ページネーション（10件ごと）がある

達成状況画面:
- [ ] 日本地図（色付き）が表示される
- [ ] 都道府県制覇状況（○/47 + 進捗バー）がある
- [ ] 難易度別の制覇数（初級/中級/上級 各○/47）がある
- [ ] 総回答数と全体正答率がある
- [ ] ジャンル別正答率（地理/観光名所/グルメ）がある

## 参照
- 要件定義書 §6.5（回答履歴画面）、§6.6（達成状況画面）
```

### Issue: 設定画面とナビゲーションの実装

```
タイトル: 設定画面とナビゲーションの実装
ラベル: Day3

--- 本文 ---
## やること
- 設定画面（PW変更・アカウント削除）
- ヘッダー（PC版）
- ハンバーガーメニュー（スマホ版）
- ログアウト確認ダイアログ

## 受け入れ条件
- [ ] パスワード変更（現PW + 新PW入力）ができる
- [ ] アカウント削除で確認ダイアログ → 全データ削除
- [ ] PC（768px以上）: ヘッダーに [JapanMaster] [回答履歴] [達成状況] [設定] [ログアウト]
- [ ] スマホ（767px以下）: ハンバーガーメニュー（≡）
- [ ] ログアウト時に確認ダイアログが表示される

## 参照
- 要件定義書 §6.7（設定画面）、§7（ナビゲーション）
```

### Issue: エラー画面・ローディング・レスポンシブ対応

```
タイトル: エラー画面・ローディング・レスポンシブ対応
ラベル: Day3

--- 本文 ---
## やること
- 404 / 500 / ネットワークエラー画面
- ローディング表示（クイズ生成中、データ取得中）
- AI利用上限の制限メッセージ
- 全画面のレスポンシブ対応（768px切り替え）

## 受け入れ条件
- [ ] 404ページ（「ページが見つかりません」+ トップに戻るボタン）がある
- [ ] 500ページ（「サーバーでエラーが発生しました」）がある
- [ ] ネットワークエラー表示がある
- [ ] AI利用上限（1日20回）到達時にメッセージが表示される
- [ ] クイズ生成中のローディングアニメーションがある
- [ ] データ取得中のスケルトン表示がある
- [ ] 全画面がPC/スマホ両方で正しく表示される

## 参照
- 要件定義書 §4.6（AI利用制限）、§11（ローディング・エラー画面）
```

### Issue: Vercelデプロイ

```
タイトル: Vercelデプロイ
ラベル: Day3

--- 本文 ---
## やること
- Vercelアカウント作成・リポジトリ連携
- 環境変数の設定
- デプロイ・動作確認

## 受け入れ条件
- [ ] `npm run lint` がパスする
- [ ] `npm run build` が成功する
- [ ] Vercelにデプロイされている
- [ ] 環境変数（Supabase接続情報・Claude APIキー）がVercelに設定されている
- [ ] デプロイURL（xxx.vercel.app）でアプリが動作する

## 参照
- 要件定義書 §13（デプロイ）
```

---

## Issue 作成コマンド（gh CLI用）

`gh` CLI がインストールされたら、以下のコマンドで一括作成できます:

```bash
# Day 1
gh issue create --title "DB設計とSupabase環境構築" --label "Day1" --body "..."
gh issue create --title "認証機能の実装（ログイン/新規登録/PWリセット）" --label "Day1" --body "..."

# Day 2
gh issue create --title "クイズ生成APIの実装" --label "Day2" --body "..."
gh issue create --title "トップ画面の実装" --label "Day2" --body "..."
gh issue create --title "クイズ画面の実装" --label "Day2" --body "..."
gh issue create --title "結果画面の実装" --label "Day2" --body "..."

# Day 3
gh issue create --title "日本地図の表示と色分け" --label "Day3" --body "..."
gh issue create --title "回答履歴・達成状況画面の実装" --label "Day3" --body "..."
gh issue create --title "設定画面とナビゲーションの実装" --label "Day3" --body "..."
gh issue create --title "エラー画面・ローディング・レスポンシブ対応" --label "Day3" --body "..."
gh issue create --title "Vercelデプロイ" --label "Day3" --body "..."
```
